var w=Object.defineProperty,x=Object.defineProperties;var A=Object.getOwnPropertyDescriptors;var E=Object.getOwnPropertySymbols;var G=Object.prototype.hasOwnProperty,B=Object.prototype.propertyIsEnumerable;var N=(e,t,r)=>t in e?w(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,o=(e,t)=>{for(var r in t||(t={}))G.call(t,r)&&N(e,r,t[r]);if(E)for(var r of E(t))B.call(t,r)&&N(e,r,t[r]);return e},a=(e,t)=>x(e,A(t));import{R as v,j as T,r as m,a as D}from"./vendor.acb48b74.js";const P=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))l(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const u of i.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&l(u)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerpolicy&&(i.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?i.credentials="include":s.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function l(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}};P();const H=e=>({type:"START_TIMER",timerId:e}),j=()=>({type:"STOP_TIMER"}),S=e=>({type:"SET_MINUTES",min:e}),g=e=>({type:"SET_SECONDS",sec:e}),K=()=>({type:"INCREMENT_SESSION_LENGTH"}),U=()=>({type:"DECREMENT_SESSION_LENGTH"}),q=()=>({type:"INCREMENT_BREAK_LENGTH"}),F=()=>({type:"DECREMENT_BREAK_LENGTH"}),$=()=>({type:"OPEN_SETTINGS"}),z=()=>({type:"CLOSE_SETTINGS"}),p=e=>({type:"SET_TIMER_MODE",mode:e}),L={isSettingsOpen:!1,timerId:void 0,mode:"work",sesionLength:25,breakLength:5,min:25,sec:0},h=v.createContext([L,()=>{}]);const n=T.exports.jsx,c=T.exports.jsxs;function d(e){const t=e.primary?"btn btn--primary":"btn";return n("button",{className:t,onClick:e.action,disabled:e.disable,title:e.disable?"\u0421\u043D\u0430\u0447\u0430\u043B\u0430 \u043E\u0441\u0442\u0430\u043D\u043E\u0432\u0438\u0442\u0435 \u0442\u0430\u0439\u043C\u0435\u0440":"",children:e.children})}var J="./assets/settings.54d8f62a.svg",Q="./assets/back.01aad0f7.svg";function V(){const[e,t]=m.exports.useContext(h);function r(){t($())}function l(){t(z()),t(S(e.sesionLength)),t(g(0)),t(p("work"))}return n("header",{className:"header",children:n(d,{action:e.isSettingsOpen?l:r,disable:!!e.timerId,children:n("img",{src:e.isSettingsOpen?Q:J})})})}function W(e){return c("div",{className:"tomato",children:[n("div",{className:"root"}),n("div",{className:"leaf leaf-1"}),n("div",{className:"leaf leaf-2"}),n("div",{className:"leaf leaf-3"}),e.children]})}function X(e){return c("div",{className:"timer",children:[n("span",{className:"timer__minutes timer__value",children:b(e.min)}),n("span",{className:"timer__separator",children:":"}),n("span",{className:"timer__secunds timer__value",children:b(e.sec)})]})}function b(e){return String(e).padStart(2,"0")}var Y="./assets/Beep.883e9007.mp3",Z="./assets/play.962c861a.svg",ee="./assets/pause.f5c8bb11.svg",te="./assets/restart.70eaf531.svg";function ne(){const[e,t]=m.exports.useContext(h),r=new Audio(Y);let l=e.min,s=e.sec,i=e.mode;function u(){s!==0?t(g(s-=1)):l!==0?(clearInterval(e.timerId),t(S(l-=1)),t(g(s=59))):(C(),k())}function k(){r.play()}function C(){i==="work"?(l=e.breakLength,i="break",t(p(i))):(l=e.sesionLength,i="work",t(p(i)))}const R=()=>{const f=setInterval(()=>u(),100);t(H(f))},M=()=>{clearInterval(e.timerId),t(j())},O=()=>{const f=e.sesionLength;t(S(f)),t(g(0)),t(p("work"))};let _=e.timerId?e.mode:e.sec===0&&e.min===e.sesionLength?"Get Ready":"Pause";return c("div",{className:"home__wrapper",children:[n("h2",{className:"home__title",style:{color:_==="break"?"#fff":"#000"},children:_}),n(W,{children:n(X,{min:e.min,sec:e.sec})}),c("div",{className:"buttons",children:[n(d,{primary:!0,action:e.timerId?M:R,children:n("img",{src:e.timerId?ee:Z})}),_==="Pause"?n(d,{primary:!0,action:O,children:n("img",{src:te})}):null]})]})}var I="./assets/add.2a37ecdb.svg",y="./assets/minus.e0d6a069.svg";function se(){const[e,t]=m.exports.useContext(h);return c("div",{className:"settings__wrapper",children:[n("h2",{className:"settings__title",children:"Settings"}),c("div",{className:"settings__options",children:[c("div",{className:"settings-option__wrapper",children:[n("p",{className:"settings-option__title",children:"Session length"}),c("div",{className:"settings-option__controls",children:[n(d,{primary:!0,action:()=>t(U()),children:n("img",{src:y})}),n("span",{className:"settings-option__value",children:e.sesionLength}),n(d,{primary:!0,action:()=>t(K()),children:n("img",{src:I})}),n("div",{className:"leaf settings-option__background"})]})]}),c("div",{className:"settings-option__wrapper",children:[n("p",{className:"settings-option__title",children:"Break length"}),c("div",{className:"settings-option__controls",children:[n(d,{primary:!0,action:()=>t(F()),children:n("img",{src:y})}),n("span",{className:"settings-option__value",children:e.breakLength}),n(d,{primary:!0,action:()=>t(q()),children:n("img",{src:I})}),n("div",{className:"leaf settings-option__background"})]})]})]})]})}function re(e,t){switch(t.type){case"OPEN_SETTINGS":return a(o({},e),{isSettingsOpen:!0});case"CLOSE_SETTINGS":return a(o({},e),{isSettingsOpen:!1});case"START_TIMER":return a(o({},e),{timerId:t.timerId});case"STOP_TIMER":return a(o({},e),{timerId:void 0});case"INCREMENT_BREAK_LENGTH":return a(o({},e),{breakLength:e.breakLength<25?e.breakLength+1:e.breakLength});case"DECREMENT_BREAK_LENGTH":return a(o({},e),{breakLength:e.breakLength>1?e.breakLength-1:e.breakLength});case"INCREMENT_SESSION_LENGTH":return a(o({},e),{sesionLength:e.sesionLength<25?e.sesionLength+1:e.sesionLength});case"DECREMENT_SESSION_LENGTH":return a(o({},e),{sesionLength:e.sesionLength>1?e.sesionLength-1:e.sesionLength});case"SET_MINUTES":return a(o({},e),{min:t.min});case"SET_SECONDS":return a(o({},e),{sec:t.sec});case"SET_TIMER_MODE":return a(o({},e),{mode:t.mode});default:return e}}function ie(){const[e,t]=m.exports.useReducer(re,L),r=e.timerId?e.mode==="work"?"#ff9204":"#1d1e20":"#ffffff";return n(h.Provider,{value:[e,t],children:n("div",{className:"app",style:{backgroundColor:r},children:c("div",{className:"app__wrapper",children:[n(V,{}),e.isSettingsOpen?n(se,{}):n(ne,{})]})})})}D.render(n(v.StrictMode,{children:n(ie,{})}),document.getElementById("root"));
